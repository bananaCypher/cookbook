<%= form_for @recipe do |f| %>
  <table>
    <tr>
      <td>
        <%= f.label :name %>
        <%= f.text_field :name %>
        <%= f.label :ingredients %>
        <%= f.select :ingredients, 
          Ingredient.all.map{ |ing| [ing.name, ing.id] }, 
          {:selected => @recipe.ingredients.map{ |ing| ing.id }},
          {:prompt => "Please select", :multiple => true} 
        %>
      </td>
      <td>
        <%= f.label :instructions %>
        <%= f.text_area :instructions %>
      </td>
    </tr>
    <tr>
      <td>
        <%= f.label :category %>
        <%= f.select :category_id, Category.all.map{ |cat| [cat.name, cat.id] } %>
      </td>
      <td>
        <%= f.label :description %>
        <%= f.text_field :description %>
      </td>
    </tr>
    <tr>
      <td><%= f.submit 'Update Recipe' %></td>
      <td></td>
    </tr>
  </table>
<% end %>